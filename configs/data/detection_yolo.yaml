defaults:
  - attributes: detection_example

data_name: ${data.attributes.name}
_target_: src.data.detection_datamodule.DetectionDataModule

train_dataset:
  _target_: src.data.yolo_detection_dataset.YoloDetectionDataset
  data_root: ${paths.data_dir}${data.data_name}${data.attributes.sub_dir}
  split: train
  attributes: ${data.attributes}
  data_yaml: ${data.attributes.data_yaml}
  images_dir: ${data.attributes.images_train}
  labels_dir: ${data.attributes.labels_train}
  use_teacher: ${model.use_teacher}
  teacher_image_size: ${data.teacher_image_size}
  augment: true
  hsv_h: 0.015
  hsv_s: 0.7
  hsv_v: 0.4
  degrees: 0.0
  translate: 0.1
  scale: 0.5
  flip_prob: 0.5
  det_teacher_use_raw_images: ${model.use_det_teacher}
  label_offset: ${data.label_offset}

val_dataset:
  _target_: src.data.yolo_detection_dataset.YoloDetectionDataset
  data_root: ${paths.data_dir}${data.data_name}${data.attributes.sub_dir}
  split: val
  attributes: ${data.attributes}
  data_yaml: ${data.attributes.data_yaml}
  images_dir: ${data.attributes.images_val}
  labels_dir: ${data.attributes.labels_val}
  use_teacher: ${model.use_teacher}
  teacher_image_size: ${data.teacher_image_size}
  augment: false
  flip_prob: 0.0
  label_offset: ${data.label_offset}

test_dataset:
  _target_: src.data.yolo_detection_dataset.YoloDetectionDataset
  data_root: ${paths.data_dir}${data.data_name}${data.attributes.sub_dir}
  split: test
  attributes: ${data.attributes}
  data_yaml: ${data.attributes.data_yaml}
  images_dir: ${data.attributes.images_test}
  labels_dir: ${data.attributes.labels_test}
  use_teacher: ${model.use_teacher}
  teacher_image_size: ${data.teacher_image_size}
  augment: false
  flip_prob: 0.0
  label_offset: ${data.label_offset}

batch_size: 32
num_workers: 4
pin_memory: False

teacher_image_size: 224
label_offset: 1
